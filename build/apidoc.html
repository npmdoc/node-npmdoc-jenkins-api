<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/jansepar/node-jenkins-api"

    >jenkins-api (v0.2.8)</a>
</h1>
<h4>Jenkins API written in Node.js</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.jenkins-api">module jenkins-api</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jenkins-api.init">
            function <span class="apidocSignatureSpan">jenkins-api.</span>init
            <span class="apidocSignatureSpan">(host, options)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jenkins-api" id="apidoc.module.jenkins-api">module jenkins-api</a></h1>


    <h2>
        <a href="#apidoc.element.jenkins-api.init" id="apidoc.element.jenkins-api.init">
        function <span class="apidocSignatureSpan">jenkins-api.</span>init
        <span class="apidocSignatureSpan">(host, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (host, options) {

    if (options) {
        request = request.defaults(options);
    }

    //Helper Functions
    var build_url = function(command) {
<span class="apidocCodeCommentSpan">        /*
        Builds REST url to Jenkins
        */
</span>
        // Create the url using the format function
        var url = util.format.call(this, command, host);

        // if command is the only arg, we are done
        if (arguments.length == 1) return url;

        // Grab the arguments except for the first (command)
        var args = Array.prototype.slice.call(arguments).slice(1);

        // Append url to front of args array
        args.unshift(url);

        // Create full url with all the arguments
        url = util.format.apply(this, args);

        return url;


    };
    return {
        build: function(jobname, params, callback) {
            var buildurl;
            /*
            Trigger Jenkins to build.
            */
            if (typeof params === &#x27;function&#x27;) {
                buildurl = build_url(BUILD, jobname);
                callback = params;
            } else {
                buildurl = build_url(BUILDWITHPARAMS+&#x22;?&#x22;+qs.stringify(params), jobname)
            }

            request({method: &#x27;POST&#x27;, url: buildurl }, function(error, response) {
                if ( error || (response.statusCode !== 201 &#x26;&#x26; response.statusCode !== 302) ) {
                    callback(error, response);
                    return;
                }
                /*
                Return queue location of newly-created job as per
                  https://issues.jenkins-ci.org/browse/JENKINS-12827?focusedCommentId=201381#comment-201381
                */
                var data = {
                    message: &#x22;job is executed&#x22;,
                    location: response.headers[&#x22;Location&#x22;] || response.headers[&#x22;location&#x22;]
                };
                callback(null, data);
            });
        },
        stop_build: function(jobname, buildNumber, callback) {
            var buildurl;
            buildurl = build_url(STOP_BUILD, jobname, buildNumber);

            request({method: &#x27;POST&#x27;, url: buildurl }, function(error, response) {
                if ( error || (response.statusCode !== 201 &#x26;&#x26; response.statusCode !== 302) ) {
                    callback(error, response);
                    return;
                }
                var data = &#x22;job is stopped&#x22;;
                callback(null, data);
            });
        },
        all_jobs: function(callback) {
            /*
            Return a list of object literals containing the name and color of all jobs on the Jenkins server
            */
            request({method: &#x27;GET&#x27;, url: build_url(LIST)}, function(error, response, body) {
                if ( error || response.statusCode !== 200 ) {
                    callback(error || true, response);
                    return;
                }
                var data = JSON.parse(body.toString()).jobs;
                callback(null, data);
            });
        },
        all_jobs_in_view: function(view, callback) {
            /*
            Return a list of objet literals containing the name and color of all the jobs for a view on the Jenkins server
             */
            request({method: &#x27;GET&#x27;, url: build_url(LIST_VIEW, view)}, function (error, response, body) {
                if ( error || response.statusCode !== 200 ) {
                    callback(error || true, response);
                    return;
                }
                var data = JSON.parse(body.toString()).jobs;
                callback(null, data);
            })
        },
        job_info: function(jobname, callback) {
            /*
            Get all information for a job
            */
            request({method: &#x27;GET&#x27;, url: build_url(JOBINFO, jobname)}, function(error, response, body) {
                if ( error || response.statusCode !== 200 ) {
                    callback(error || true, response);
                    return;
                }
                var data = JSON.parse(body.toString());
                callba ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...

### setup

```javascript
var jenkinsapi = require(&#x27;jenkins-api&#x27;);

// no auth
var jenkins = jenkinsapi.<span class="apidocCodeKeywordSpan">init</span>(&#x22;http://jenkins.yoursite.com&#x22;);

// username/password
var jenkins = jenkinsapi.init(&#x22;http://username:password@jenkins.yoursite.com&#x22;);

// API Token
var jenkins = jenkinsapi.init(&#x27;https://username:token@jenkins.company.com&#x27;);
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
